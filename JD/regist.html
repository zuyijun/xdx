<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>个人注册</title>
    <link rel="shortcut icon" href="favicon.ico"/>
    <link rel="stylesheet" href="css/base.css"/>
    <link rel="stylesheet" href="css/regist.css"/>
    <script type="text/javascript" src="libs/jquery-1.12.4.js"></script>
</head>
<body>
    <div class="rheader">
        <div class="w">
            <div class="fl">
                <div class="logo fl">
                    <a href="#" class="bglogo"></a>
                </div>
                <div class="welcome fl">欢迎注册</div>
            </div>
            <div class="fr">
                已有账号？&nbsp;<a href="login.html" class="col-red">请登录></a>
            </div>
        </div>
    </div>

    <div class="container">
        <div class="w">
            <div class="progress-bar clearfix">
                <div class="pro-num fl">
                    <span class="current">1</span>
                    <p class="current">验证手机号</p>
                </div>
                <div class="jt fl"></div>
                <div class="pro-num fl">
                    <span>2</span>
                    <p>填写账号信息</p>
                </div>
                <div class="jt fl"></div>
                <div class="pro-num fl">
                    <span>3</span>
                    <p>注册成功</p>
                </div>
            </div>
            <div class="country-code" id="country-code">
                <a href=""class="arrow-down"></a>
                <div>
                    <div class="search-bar">
                        <b class="search-icon"></b>
                        <input type="text" placeholder="搜索您的国家和地区" id="inputSearch">
                    </div>                
                    <div id="result" style="display: block;">
                        <div class="capital-list">
                            <ul> 
                                <li><a href="javascript:void(0)" class="cur">常用国家/地区</a></li>
                                <li><a href="javascript:void(0)">A</a></li>
                                <li><a href="javascript:void(0)">B</a></li>
                                <li><a href="javascript:void(0)">C</a></li>
                                <li><a href="javascript:void(0)">D</a></li>
                                <li><a href="javascript:void(0)">E</a></li>
                                <li><a href="javascript:void(0)">F</a></li>
                                <li><a href="javascript:void(0)">G</a></li>
                                <li><a href="javascript:void(0)">H</a></li>
                                <li><a href="javascript:void(0)">J</a></li>
                                <li><a href="javascript:void(0)">K</a></li>
                                <li><a href="javascript:void(0)">L</a></li>
                                <li><a href="javascript:void(0)">M</a></li>
                                <li><a href="javascript:void(0)">N</a></li>
                                <li><a href="javascript:void(0)">P</a></li>
                                <li><a href="javascript:void(0)">R</a></li>
                                <li><a href="javascript:void(0)">S</a></li>
                                <li><a href="javascript:void(0)">T</a></li>
                                <li><a href="javascript:void(0)">W</a></li>
                                <li><a href="javascript:void(0)">X</a></li>
                                <li><a href="javascript:void(0)">Y</a></li>
                                <li><a href="javascript:void(0)">Z</a></li>
                            </ul>
                        </div>
                        <div class="current-capital">
                            <span id="currentCapital">常用国家/地区</span>
                            <span class="line-short"></span>
                        </div>
                        <div class="country-list">
                            <div class="viewport">
                                <div class="overport">
                                    <ul class="countrys">
                                        <li>
                                            <i style="background: url(images/china.png);"></i>
                                            <span>中国香港</span>
                                            <span class="flr">0852</span>
                                        </li>
                                        <li>
                                            <i style="background: url(images/china.png);"></i>
                                            <span>中国台湾</span>
                                            <span class="flr">0886</span>
                                        </li>
                                        <li>
                                            <i style="background: url(images/aodaliya.png);"></i>
                                            <span>澳大利亚</span>
                                            <span class="flr">0061</span>
                                        </li>
                                        <li>
                                            <i style="background: url(images/meiguo.png);"></i>
                                            <span>美国</span>
                                            <span class="flr">0001</span>
                                        </li>
                                        <li>
                                            <i style="background: url(images/malaixiya.png);"></i>
                                            <span>马来西亚</span>
                                            <span class="flr">0060</span>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>                      
                    </div>
                </div>
            </div>
            <div class="form">
                <label class="phone"><a href="javascript:;">中国&nbsp;0086&nbsp;<i class="iconfont1"></i></a></label>
                <input type="text" id="phone" value="" placeholder="建议使用常用手机号" autocomplete="off" maxlength="11"/><span class="msg"
                id="msg"></span><span id="right"></span>
                <div class="input-tip">
                    <span id="form-error">
                    </span>
                </div>
            </div>
            <div class="yz">
                点击按钮进行验证
            </div>
            <button type="submit">下一步</button>
            <div class="lb">
                <div class="fl">
                    <i></i>
                    企业用户注册
                </div>
                <div class="fr">
                    <i></i>
                    国际站注册
                </div>
            </div>
        </div>
    </div>

    <div class="footer">
        <div class="w">
            <p><a href="#">关于我们</a><span>|</span><a href="#">联系我们</a><span>|</span><a href="#">人才招聘</a>
                <span>|</span><a href="#">商家入驻</a><span>|</span><a href="#">广告服务</a><span>|</span>
                <a href="#">手机京东</a><span>|</span><a href="#">友情链接</a><span>|</span><a href="#">销售联盟</a>
                <span>|</span><a href="#">京东社区</a><span>|</span><a href="#">京东公益</a><span>|</span>
                <a href="#">English Site</a></p>
            <p>Copyright©2004-2018  京东JD.com 版权所有</p>
        </div>
    </div>
    <script type="text/javascript">

        $(".phone").on("click", function(e){
            $(".country-code").css('display','block');
            $(".iconfont1").text("");
            $(document).one("click", function(){
                $(".country-code").css('display','none');
                $(".iconfont1").text("");
            });
            e.stopPropagation();
        });


        $(function(){
            var inputnum=document.getElementById('phone')
            var formerror=document.getElementById('form-error')
            var ivalue=inputnum.value
            var sure=document.getElementById('yes')
            var cancel=document.getElementById('no')
            var pattern = /^[1][3,4,5,7,8][0-9]{9}$/;
            var next=document.getElementById('step1-next')
            //input的事件
            inputnum.onclick=function () {
                formerror.style.color='#ccc'
                formerror.style.display='block'
                formerror.innerHTML="<i class='i-def'></i>验证完成后，你可以使用该手机登录或找回密码"
            }

            inputnum.onblur=function () {
                console.log('ok')

                if (!pattern.test(ivalue)||ivalue=="") {
                    formerror.style.color='#f91'
                    formerror.style.display='block'
                    formerror.innerHTML="<i class='i-error'></i>格式错误"
                    cancel.style.display='block'
                }else if (pattern.test(ivalue)) {
                    formerror.style.color='#ccc'
                    formerror.style.display='block'
                    formerror.innerHTML="<i class='i-def'></i>验证完成后，你可以使用该手机登录或找回密码"
                    sure.style.display='block'
            }}

        //删除
            cancel.onclick=function () {
                ivalue=""
                console.log(ivalue)
                cancel.style.display='none'

            }
        //下一步
            next.onclick=function () {

                if (!pattern.test(ivalue)&&ivalue===""){
                    formerror.style.color='#f91'
                    formerror.style.display='block'
                    formerror.innerHTML="<i class='i-error'></i>请输入电话"

                }
                else if (!pattern.test(ivalue)&&ivalue!=="") {
                    formerror.style.color='#f91'
                    formerror.style.display='block'
                    formerror.innerHTML="<i class='i-error'></i>格式错误"
                    cancel.style.display='block'
                }

            }

        });
    </script>
</body>
</html>